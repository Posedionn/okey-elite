<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>101 Okey Plus Style - Elite</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
    <style>
        :root {
            --plus-green: #0a400a;
            --plus-dark: #052205;
            --tile-bone: #fefae0;
        }
        
        body { 
            background: radial-gradient(circle, var(--plus-green) 0%, var(--plus-dark) 100%); 
            color: white; font-family: 'Arial', sans-serif; 
            margin: 0; overflow: hidden; touch-action: none;
        }

        /* 101 Okey Plus Tarzƒ± Masa D√ºzeni */
        .game-table {
            height: 50vh; position: relative;
            background: url('https://www.transparenttextures.com/patterns/dark-leather.png'); /* Deri Dokusu */
        }

        /* Oyuncu Kutularƒ± (Profil Resimli Gibi) */
        .player-box {
            position: absolute; width: 60px; height: 80px;
            background: rgba(0,0,0,0.6); border: 2px solid #ffd700;
            border-radius: 8px; text-align: center; font-size: 10px;
        }
        .p-top { top: 10px; left: 50%; transform: translateX(-50%); }
        .p-left { top: 50%; left: 10px; transform: translateY(-50%); }
        .p-right { top: 50%; right: 10px; transform: translateY(-50%); }

        /* Ortadaki Okey ve Deste Alanƒ± */
        .center-deck {
            position: absolute; top: 50%; left: 50%; 
            transform: translate(-50%, -50%); display: flex; gap: 15px;
        }

        /* Plus Tarzƒ± Ta≈ülar */
        .tile {
            width: 32px; height: 46px; background: var(--tile-bone);
            border-radius: 4px; display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            font-weight: bold; font-size: 17px; color: #333;
            box-shadow: 0 4px 0 #bcbab0, 2px 4px 8px rgba(0,0,0,0.5);
            position: relative;
        }
        .tile.red { color: #cc0000; } .tile.blue { color: #0000cc; }
        .tile.black { color: #000000; } .tile.orange { color: #ff8000; }
        .tile::after { content: '‚óè'; font-size: 8px; margin-top: -4px; opacity: 0.4; }

        /* √áift Sƒ±ra Profesyonel Istaka */
        .rack-system {
            position: fixed; bottom: 70px; width: 100%;
            background: linear-gradient(to bottom, #4e342e, #2d1b15);
            padding: 10px 0; border-top: 4px solid #1a0f0a;
            box-shadow: 0 -10px 30px rgba(0,0,0,0.8);
        }
        .rack-row {
            display: flex; justify-content: center; gap: 4px;
            height: 52px; margin-bottom: 3px; min-height: 52px;
        }

        /* Alt Panel Butonlarƒ± */
        .action-bar {
            position: fixed; bottom: 0; width: 100%; height: 70px;
            display: grid; grid-template-columns: repeat(5, 1fr);
            background: #000; padding: 5px; gap: 4px; box-sizing: border-box;
        }
        .action-btn {
            border: 1px solid #444; border-radius: 5px;
            background: linear-gradient(to bottom, #333, #000);
            color: #ffd700; font-weight: bold; font-size: 10px;
        }

        /* Saya√ß ve Skor */
        .info-panel {
            position: absolute; top: 10px; right: 10px; 
            background: rgba(0,0,0,0.7); padding: 5px 10px; border-radius: 5px; font-size: 12px;
        }
    </style>
</head>
<body>

    <div class="game-table" id="table-area">
        <div class="info-panel">
            S√ºre: <span id="timer" style="color:#ffeb3b">45</span><br>
            Puan: <span id="puan" style="color:#4caf50">0</span>
        </div>

        <div class="player-box p-top">ü§ñ Bot 1</div>
        <div class="player-box p-left">ü§ñ Bot 2</div>
        <div class="player-box p-right">ü§ñ Bot 3</div>

        <div class="center-deck">
            <div class="tile" style="background:#1a1a1a; color:white; border:1px solid #444;" onclick="tasCek()">üé¥</div>
            <div class="tile"><span style="font-size:8px; color:#888;">OKEY</span>13</div>
        </div>
    </div>

    <div class="rack-system">
        <div class="rack-row" id="row1"></div>
        <div class="rack-row" id="row2"></div>
    </div>

    <div class="action-bar">
        <button class="action-btn" onclick="dagit()">DAƒûIT</button>
        <button class="action-btn" style="color:#2ecc71" onclick="alert('Seri A√ßƒ±ldƒ±')">SERƒ∞ A√á</button>
        <button class="action-btn" style="color:#3498db" onclick="alert('√áift A√ßƒ±ldƒ±')">√áƒ∞FT A√á</button>
        <button class="action-btn" onclick="autoSort()">Dƒ∞Z</button>
        <button class="action-btn" style="color:#e74c3c" onclick="location.reload()">√áIK</button>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.ready(); tg.expand();

        const colors = ['red', 'blue', 'black', 'orange'];
        
        function dagit() {
            const r1 = document.getElementById('row1');
            const r2 = document.getElementById('row2');
            r1.innerHTML = ''; r2.innerHTML = '';
            for(let i=0; i<22; i++) {
                const n = Math.floor(Math.random() * 13) + 1;
                const c = colors[Math.floor(Math.random() * 4)];
                const t = `<div class="tile ${c}" data-val="${n}">${n}</div>`;
                if(i < 11) r1.innerHTML += t; else r2.innerHTML += t;
            }
            tg.HapticFeedback.impactOccurred('medium');
        }

        // S√ºr√ºkle Bƒ±rak - SortableJS
        [document.getElementById('row1'), document.getElementById('row2'), document.getElementById('table-area')].forEach(el => {
            new Sortable(el, { group: 'plus-okey', animation: 150 });
        });

        let time = 45;
        setInterval(() => { if(time > 0) { time--; document.getElementById('timer').innerText = time; } }, 1000);

        window.onload = dagit;
    </script>
</body>
</html>